<!DOCTYPE html>
<html lang="es-ES">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>File-roller y los archivos lha | freniche.com</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/xmlrpc.php" />
<link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>
<!--[if lt IE 9]>
<script src="/wp-content/themes/readly/js/html5.js" type="text/javascript"></script>
<![endif]-->

<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="freniche.com &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="freniche.com &raquo; RSS de los comentarios" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="freniche.com &raquo; File-roller y los archivos lha RSS de los comentarios" href="/retrocomputing/file-roller-y-los-archivos-lha/feed/" />
<link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.6.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<link rel='stylesheet' id='fancybox-style-css'  href='/wp-content/themes/readly/fancybox/jquery.fancybox.css?v=2.1.5&#038;ver=4.8.13' type='text/css' media='all' />
<link rel='stylesheet' id='readly-style-css'  href='/wp-content/themes/readly/style.css?ver=4.8.13' type='text/css' media='all' />
<style id='readly-style-inline-css' type='text/css'>
.gallery .gallery-item {
	max-width: 150px;
}
</style>
<link rel='stylesheet' id='mediaelement-css'  href='/wp-includes/js/mediaelement/mediaelementplayer.min.css?ver=2.22.0' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=4.8.13' type='text/css' media='all' />
<link rel='stylesheet' id='wp-markdown-prettify-css'  href='/wp-content/plugins/wp-markdown/css/prettify.css?ver=1.5.1' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/jquery-ui-1.10.2.custom.min.js?ver=20130317'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/readly.js?ver=20140331'></script>
<script type='text/javascript' src='/wp-content/plugins/wp-markdown/js/prettify.min.js?ver=1.5.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 4.8.13" />
<link rel="canonical" href="/retrocomputing/file-roller-y-los-archivos-lha/" />
<link rel='shortlink' href='/?p=787' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fretrocomputing%2Ffile-roller-y-los-archivos-lha%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fretrocomputing%2Ffile-roller-y-los-archivos-lha%2F&#038;format=xml" />
<script type="text/javascript">
	window._se_plugin_version = '8.1.6';
</script>
<style type="text/css" media="screen">
/* Begin WPvideo CSS */
.wpv_videoc {
	text-align: center;
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 425px;
/* border: 1px solid #aaa; */
}

.wpv_video {
	display: block;
	margin-left: auto;
	margin-right: auto;
	padding: 4px 0 4px 0;
	width: 425px;
	height: 350px;
}

.wpv_rating {
	margin-left: auto;
	margin-right: auto;
	width: 95%;
	padding: 3px;
	border-top: 1px solid #aaa;
	font: 8pt "Lucida Grande", Verdana, Arial, 'Bitstream Vera Sans', sans-serif;
	text-align: right;	
}

.wpv_titleauthor, .wpv_durationdate, .wpv_description {
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 95%;
	font: bold 11px "Lucida Grande", Verdana, Arial, 'Bitstream Vera Sans', sans-serif;
	color: #666;
	padding: 3px;
	border-top: 1px solid #aaa;
}

.wpv_download {
	display: block;
	margin-left: auto;
	margin-right: auto;
	padding: 3px;
}

.wpv_download a {
	font: bold 11px "Lucida Grande", Verdana, Arial, 'Bitstream Vera Sans', sans-serif;
	color: #f44;
}

.wpv_download a:hover {
	text-decoration: none;
}

.wpv_download img {
	border: 0;
}

.wpv_self {
	text-align: left;
}

.wpv_self a {
	font: bold 9px "Lucida Grande", Verdana, Arial, 'Bitstream Vera Sans', sans-serif;
	color: #000;
}
/* End WPvideo CSS */
</style>

<style type="text/css" id="custom-background-css">
a {
	color: #1e83cb;
}
.entry-content a {
	-webkit-transition: border-bottom-color 0.2s linear;
	-moz-transition: border-bottom-color 0.2s linear;
	-o-transition: border-bottom-color 0.2s linear;
	transition: border-bottom-color 0.2s linear;
}
.entry-content a:hover {
	border-bottom-color: #1e83cb;
}
#masthead .site-title a, #site-navigation a, .sub-menu a, #nav-below a, .entry-title a, #image-navigation a {
	-webkit-transition: color 0.2s linear;
	-moz-transition: color 0.2s linear;
	-o-transition: color 0.2s linear;
	transition: color 0.2s linear;
}
#masthead .site-title a:hover, #nav-below a:hover, .entry-title a:hover, #image-navigation a:hover {
	color: #1e83cb;
}
#s, #commentform input[type="text"], #commentform textarea, .password_protected, #social a, a.more-link {
	-webkit-transition: background-color 0.2s linear;
	-moz-transition: background-color 0.2s linear;
	-o-transition: background-color 0.2s linear;
	transition: background-color 0.2s linear;
}
a.more-link span {
	-webkit-transition: border-left-color 0.2s linear;
	-moz-transition: border-left-color 0.2s linear;
	-o-transition: border-left-color 0.2s linear;
	transition: border-left-color 0.2s linear;
}
#s:focus, #commentform input[type="text"]:focus, #commentform textarea:focus, .password_protected:focus {
	background-color: #fff;
}
#social a:hover {
	background-color: #1e83cb;
}
a.more-link:hover {
	background-color: #1e83cb;
}
a.more-link:hover span {
	border-left-color: #1e83cb;
}
.entry-meta a, footer .site-info a, #comments a, .link_post_p a {
	-webkit-transition: color 0.2s linear, border-bottom-color 0.2s linear;
	-moz-transition: color 0.2s linear, border-bottom-color 0.2s linear;
	-o-transition: color 0.2s linear, border-bottom-color 0.2s linear;
	transition: color 0.2s linear, border-bottom-color 0.2s linear;
}
.entry-meta a:hover, footer .site-info a:hover, #comments a:hover, #comments a#cancel-comment-reply-link:hover, .link_post_p a:hover {
	color: #1e83cb;
	border-bottom-color: #1e83cb;
}
@media only screen and (min-width : 641px) {
	#site-navigation a:hover, .sub-menu a:hover {
		color: #1e83cb;
	}
}
html {
	position: relative;
	min-height: 100%;
}
.hentry .mejs-controls .mejs-time-rail .mejs-time-current {
	background: #1e83cb;
}
</style>
<script type="text/javascript">
var hover_color = "#1e83cb";
</script></head>

<body class="page-template-default page page-id-787 page-child parent-pageid-3">
<header id="masthead" class="site-header" role="banner">
	<div id="header-wrapper">
		<hgroup>
			<div id="hgroup-wrapper">
				<div id="hgroup-wrapper2">
					<h1 class="site-title"><a href="/" title="freniche.com" rel="home">freniche.com</a></h1>
					<h2 class="site-description">Another personal blog about everything tech-related</h2>
				</div>
			</div>
		</hgroup>

		<nav id="site-navigation" class="navigation-main" role="navigation">
			<div id="site-navigation-wrapper">
				<div id="site-navigation-wrapper2">
					<h1 class="menu-toggle">Menu<span>m</span></h1>
					<div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>

					<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-2650" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2650"><a href="/about">Acerca de&#8230;</a>
<ul  class="sub-menu">
	<li id="menu-item-2651" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2651"><a href="http://www.github.com/dfreniche/cv">CV</a></li>
	<li id="menu-item-1984" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1984"><a href="/ios-apps/">iOS Apps</a></li>
	<li id="menu-item-1985" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1985"><a href="/formacion/">Formación</a></li>
</ul>
</li>
<li id="menu-item-1986" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1986"><a href="/contactar/">Contactar</a></li>
<li id="menu-item-2649" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2649"><a href="/mis-entradas-favoritas/">Lo mejor del blog</a></li>
<li id="menu-item-2648" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2648"><a href="/archivo-blog/">Archivo</a></li>
<li id="menu-item-1993" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1993"><a href="http://www.cafeycocoa.com.es/">Otros Proyectos</a>
<ul  class="sub-menu">
	<li id="menu-item-2652" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2652"><a href="http://wedevelopers.com/">Podcast We.Developers</a></li>
	<li id="menu-item-2051" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2051"><a href="http://readthencode.tumblr.com/">Read Then Code</a></li>
	<li id="menu-item-1996" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1996"><a href="http://nscoder-sev.tumblr.com/">NSCoder Night Sevilla</a></li>
	<li id="menu-item-1995" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1995"><a href="http://www.cafeycocoa.com.es/">Café y Cocoa</a></li>
	<li id="menu-item-1991" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1991"><a href="http://www.youtube.com/dfreniche">YouTube</a></li>
	<li id="menu-item-1992" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1992"><a href="https://www.flickr.com/photos/dfreniche">Flickr</a></li>
</ul>
</li>
</ul></div>				</div>
			</div>
		</nav><!-- .site-navigation -->
	</div>
</header><!-- #masthead -->

<div id="page" class="hfeed site">
	<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

			
				
<article id="post-787" class="post-787 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">File-roller y los archivos lha</h1>
	</header><!-- .entry-header -->

	<div class="entry-content">
		<h1>Mi Amiga y los ficheros de Aminet</h1>
<p>Desde este pasado Agosto he vuelto a cacharrear con <a href="http://www.freniche.com/recursos/articulos/file-roller-y-los-archivos-lha/que-me-interesa/retroinformatica/">mis retro-máquinas</a>. Una de ellas, un <a href="http://es.wikipedia.org/wiki/Amiga" target="_blank">Amiga 500</a> ha sido la causante de todos estos problemas. Me explico. Buscando por Internet software para el Amiga 500 encontré la sede web de <a href="http://wuarchive.wustl.edu/pub/aminet" target="_blank">Aminet</a>. Para los que no lo conozcan es un repositorio bestial de programas, música, documentación, etc. para Amiga.</p>
<p>Por supuesto, tras recorrerlo un rato con el navegador lo tenía claro: <a href="http://en.wikiquote.org/wiki/Linus_Torvalds" target="_blank">los hombres de verdad se hacen un mirror</a> y punto. Así que me estoy bajando Aminet en fascículos gracias a wget. En concreto con la línea:</p>
<blockquote>
<pre>wget --mirror <a href="http://wuarchive.wustl.edu/pub/aminet/" target="_blank">wuarchive.wustl.edu/pub/aminet/</a></pre>
</blockquote>
<p>consigues que se baje completamente un sitio web a tu máquina.</p>
<p><img class="aligncenter size-full wp-image-788" src="/wp-content/uploads/2010/03/Amiga_1200.jpg" alt="" width="450" height="335" srcset="/wp-content/uploads/2010/03/Amiga_1200.jpg 450w, /wp-content/uploads/2010/03/Amiga_1200-300x223.jpg 300w" sizes="(max-width: 450px) 100vw, 450px" /></p>
<h1>Los archivos lha</h1>
<p>El problema es que el contenido mayoritario de Aminet son ficheros comprimidos en formato lha. Si no conoces el formato lha o lzh no pasa nada: no eres tan viejo como yo. Este fue un formato que tuvo gran popularidad en los tiempos del MS-DOS, antes de que los ZIP. RAR, ZOO y demás se extendieran.</p>
<p>Y alguien dirá: ¿y cuál es el problema con los lha?. ¿No es tu Linux tan potente?. Bueno, algún problemilla si que me planteó.</p>
<p>En primer lugar el compresor file-roller (el que uso en GNOME) necesita para tratar con los lzh/lha el programa lha instalado. Ningún problema. Se busca en Synaptic «lha», se instala el paquete y andando.</p>
<p>Pues no, no anda. File-roller reconoce los lzh, pero no los lha. Y eso que son el mismo formato. ¿Y ahora? ¿De quién es la culpa?. Mirando por Internet (de nuevo) me entero que File-roller tiene un <a href="http://mail.gnome.org/archives/ftp-release-list/2004-December/msg00061.html" target="_blank">fallo subsanado en la versión 2.9.2</a>: que no trata bien los ficheros con extensión lha.</p>
<h1>Actualizar el File-roller</h1>
<p>La versión que tengo de file-roller es la 2.6.2 y por comparación simple se entiende que tiene el bug subsanado en la 2.9.2 (6 es menor que 9). Pero no pasa nada: se actualiza en Synaptic el paquete filler-roller y punto. Pues no, no es y punto. Resulta que en la Debian Sid a día de hoy (8/10/05) la versión última de File-roller es la 2.6.2.</p>
<p>Ya me voy impacientando, así que me dirijo a la web de file-roller y me descargo la últimísima versión. Descomprimo el .tgz, me leo el README y ejecuto el ./configure. ¡¡AAARGHHH!!. Necesita una versión más moderna de libglade que la que tengo instalada. <strong>Y esta versión no está disponible en el repositorio de Debian</strong>.</p>
<p>¿Qué hacer?. La versión de File-roller que tengo tiene un <em>bug</em> que me impide abrir directamente los lha, existe otra versión que lo subsana pero depende de una biblioteca que no tengo instalada. Podría bajarme la biblioteca y compilarla a mano, pero el follón está servido. Pensemos ¿no hay algún truco sencillo para hacer un <em>workaround</em> (en Español, una chapuza)?</p>
<h1>El workaround</h1>
<p>Pensando pensando se me ocurrió que los formatos lha y lzh son los mismos ¿no?. Pues a probar: renombré un fichero lha a lzh, lancé el file-roller y ¡listo!. Se abre Ok. Claro, que ésto es desde consola y yo quiero que funcione desde el Nautilus.</p>
<p>Bueno, lo primero es hacer que el Nautilus reconozca los .lha como ficheros comprimidos. Se puede hacer pulsando con el botón derecho del ratón, Abrir con, Otra aplicación y pulsar en «Ir ahí» en la opción «Tipos de archivos y programas». Hay que añadir la extensión lha al tipo de fichero.</p>
<p>Una vez los lha nos aparecen con el icono del paquete comprimido, debemos cambiar el programa por defecto que los abre. En éste caso, en lugar de File-roller va a ser un script muy sencillo que:</p>
<ol>
<li>Copiará el fichero *.lha en el que pinchemos a /tmp/ con un nombre «rarito» (por si pulsamos en varios lha que no se líe el file-roller) y extensión lzh</li>
<li>Abrirá file-roller con el archivo *.lzh del /tmp</li>
<li>Cuando cerremos file-roller borrará el .lzh</li>
</ol>
<p>Un programa que haga lo anterior puede ser:</p>
<blockquote>
<pre># -- Aquí empieza --</pre>
<pre>#!/bin/bash</pre>
<pre>THE_FILE=/tmp/`date +%y-%h-%d-%H-%M-%N`.lzh</pre>
<pre>echo $THE_FILE &gt; /tmp/lee.txt</pre>
<pre>cp $1 $THE_FILE ; file-roller $THE_FILE ; rm $THE_FILE</pre>
<pre># -- Aquí acaba --</pre>
</blockquote>
<p>Yo lo he llamado unlha.sh y lo he asociado a los lha. La clave de todo está en que Nautilus pasa como primer argumento al programa unlha.sh el nombre del fichero sobre el que hemos pulsado.</p>
<p><a href="/wp-content/uploads/2010/03/30fbeb0b68.jpg"><img class="aligncenter size-full wp-image-789" title="File-roller con un fichero lha (renombrado a lzh) abierto." src="/wp-content/uploads/2010/03/30fbeb0b68.jpg" alt="" width="600" height="500" srcset="/wp-content/uploads/2010/03/30fbeb0b68.jpg 600w, /wp-content/uploads/2010/03/30fbeb0b68-300x250.jpg 300w" sizes="(max-width: 600px) 100vw, 600px" /></a></p>
			</div><!-- .entry-content -->
	</article><!-- #post-## -->

				

	<div id="comments" class="comments-area">

	
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/retrocomputing/file-roller-y-los-archivos-lha/#respond" style="display:none;">&#215; Cancel</a></small></h3>			<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" placeholder="Your message"></textarea></p><p class="comment-form-author"><input id="author" name="author" type="text" value="" size="30" aria-required="true" placeholder="Author name (Required)" /></p>
<p class="comment-form-email"><input id="email" name="email" type="text" value="" size="30" aria-required="true" placeholder="Your email (Required, not published)" /></p>
<p class="comment-form-url"><input id="url" name="url" type="text" value="" size="30" placeholder="Your website" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit Comment" /> <input type='hidden' name='comment_post_ID' value='787' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="4c30f90db5" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="228"/></p>			</form>
			</div><!-- #respond -->
	
</div><!-- #comments -->

			
		</div><!-- #content -->
	</div><!-- #primary -->

<!-- 	<div id="secondary" class="widget-area" role="complementary">
		<aside id="search" class="widget widget_search">
				<form method="get" id="searchform" class="searchform" action="/" role="search">
		<label for="s" class="assistive-text">Search</label>
		<input type="search" class="field" name="s" value="" id="s" placeholder="Search &hellip;" />
		<input type="submit" class="submit" id="searchsubmit" value="Search" />
	</form>
		</aside>
	</div><!-- #secondary -->
 -->

	</div><!-- #main -->
</div><!-- #page -->

<footer id="colophon" class="site-footer" role="contentinfo">
	<div id="footer-wrapper">
		<div class="site-info">
			<div id="site-info-wrapper">
				<div id="site-info-wrapper2">
										&#169; Copyright 2014 <a href="/">freniche.com</a>. Powered By <a href="http://wordpress.org/" title="A Semantic Personal Publishing Platform" rel="generator">WordPress</a>.
					<br />
					Designed & Crafted by <a href="http://wpshower.com/">Wpshower</a>.
				</div>
			</div>
		</div><!-- .site-info -->
		<div id="social">
			<div id="social_wrapper">
				<div id="social_wrapper2">
						<a href="https://twitter.com/dfreniche">w</a>
						<a href="http://feeds.feedburner.com/dfreniche">r</a>
					</div>
			</div>
		</div>
	</div>
</footer><!-- #colophon -->

<script type='text/javascript' src='/wp-content/plugins/akismet/_inc/form.js?ver=3.2'></script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"recaptcha":{"messages":{"empty":"Por favor, prueba que no eres un robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.6.1'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/navigation.js?ver=20120206'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/skip-link-focus-fix.js?ver=20130115'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"es-ES","strings":{"Close":"Cerrar","Fullscreen":"Pantalla completa","Turn off Fullscreen":"Salir de pantalla completa","Go Fullscreen":"Ver en pantalla completa","Download File":"Descargar archivo","Download Video":"Descargar v\u00eddeo","Play":"Reproducir","Pause":"Pausa","Captions\/Subtitles":"Pies de foto \/ Subt\u00edtulos","None":"Ninguno","Time Slider":"Control de tiempo","Skip back %1 seconds":"Retroceder %1 segundos","Video Player":"Reproductor de v\u00eddeo","Audio Player":"Reproductor de audio","Volume Slider":"Control de volumen","Mute Toggle":"Desactivar sonido","Unmute":"Activar sonido","Mute":"Silenciar","Use Up\/Down Arrow keys to increase or decrease volume.":"Utiliza las teclas de flecha arriba\/abajo para aumentar o disminuir el volumen.","Use Left\/Right Arrow keys to advance one second, Up\/Down arrows to advance ten seconds.":"Usa las teclas de direcci\u00f3n izquierda\/derecha para avanzar un segundo, y las flechas arriba\/abajo para avanzar diez segundos."}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.22.0'></script>
<script type='text/javascript' src='/wp-includes/js/mediaelement/wp-mediaelement.min.js?ver=4.8.13'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/wpshower-responsive-videos.js?ver=20140331'></script>
<script type='text/javascript' src='/wp-content/themes/readly/js/jquery.mousewheel.js?ver=3.1.6'></script>
<script type='text/javascript' src='/wp-content/themes/readly/fancybox/jquery.fancybox.js?ver=3b1'></script>
<script type='text/javascript' src='/wp-content/plugins/wp-markdown/js/markdown.min.js?ver=1.5.1'></script>

</body>
</html>