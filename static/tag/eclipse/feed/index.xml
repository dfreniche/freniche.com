<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Eclipse &#8211; freniche.com</title>
	<atom:link href="/tag/eclipse/feed/" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description>Another personal blog about everything tech-related</description>
	<lastBuildDate>Sun, 30 Dec 2018 19:56:49 +0000</lastBuildDate>
	<language>es-ES</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.8.13</generator>
	<item>
		<title>El lamentable estado de las herramientas de desarrollo Android</title>
		<link>/2014/06/26/el-lamentable-estado-de-las-herramientas-de-desarrollo-android/</link>
		<comments>/2014/06/26/el-lamentable-estado-de-las-herramientas-de-desarrollo-android/#comments</comments>
		<pubDate>Thu, 26 Jun 2014 12:19:54 +0000</pubDate>
		<dc:creator><![CDATA[dfreniche]]></dc:creator>
				<category><![CDATA[Don erre que erre]]></category>
		<category><![CDATA[Inform√°tica]]></category>
		<category><![CDATA[Amateur]]></category>
		<category><![CDATA[Android]]></category>
		<category><![CDATA[Chapuzas]]></category>
		<category><![CDATA[Eclipse]]></category>
		<category><![CDATA[Google]]></category>
		<category><![CDATA[Payasos]]></category>
		<category><![CDATA[Programaci√≥n]]></category>

		<guid isPermaLink="false">/?p=2213</guid>
		<description><![CDATA[Advertencia: si le tienes mucho cari√±o a Google, mejor que no sigas leyendo. Si desarrollas Apps como es mi caso (para iOS y Android) y no tomas como dogma de fe todo lo que dice Google (ni Apple, ni Microsoft, ni nadie), adelante. Segunda advertencia: leed el update de abajo del todo, por favor. Para [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><strong>Advertencia</strong>: si le tienes mucho cari√±o a Google, mejor que no sigas leyendo. Si desarrollas Apps como es mi caso (para iOS y Android) y no tomas como <em>dogma de fe</em> todo lo que dice Google (ni Apple, ni Microsoft, ni nadie), adelante.</p>
<p><strong>Segunda advertencia</strong>: leed el update de abajo del todo, por favor. Para que os hag√°is una idea de lo grave que es este asunto&#8230;</p>
<p>Ahora mismo estamos en pleno Google I/O, la conferencia para desarrolladores de Google. Se est√°n presentando muchas novedades de consumo, lo que me parecen muy bien. Hay incluso un nuevo <em>lenguaje visual</em> llamado Material (que, por desgracia no veremos mas que en los Nexus, ya que los fabricantes se lo van a cargar; y a√∫n as√≠ habr√° que ver en qu√© Nexus y cu√°ndo).</p>
<p>Todo muy bien, pero ¬øqu√© pasa con las herramientas <strong>de verdad</strong> para desarrolladores?</p>
<p>Estas herramientas, no nos enga√±emos, son: el compilador, el lenguaje y el IDE. Eso es lo que usamos el 90% del tiempo mientras desarrollamos Apps. Pues parece que, en 2014, todo sigue como en 2013. En la edad de la piedra. <strong>En el m√°s absoluto desprecio de Google hacia sus desarrolladores</strong>.</p>
<p>S√≠ se√±ores: <strong>desprecio</strong>. No es de recibo las herramientas que proporciona Google, insisto, en 2014. Revisemos.</p>
<h2>El lenguaje de programaci√≥n</h2>
<p>Es Java. Ni creado ni controlado por Google. Conste que no odio Java (he invertido mucho tiempo en aprenderlo y <a href="/2010/06/25/scwcd-aprobado/">certificarme</a> como para no tomarle cari√±o). Pero seguir en Java 6 cuando ha salido Java 8 con un mont√≥n de novedades interesantes me <em>escuece</em>. Mucho. Quiero esos tipos opcionales, clausuras y funciones de primer orden. En Android. Y lo quiero ya. Ll√°mame caprichoso, pero creo que ya toca avanzar.</p>
<p>Seguir con esta versi√≥n de Java se debe seguramente al <a href="http://es.wikipedia.org/wiki/Oracle_v._Google">litigio que Oracle le est√° ganando a Google sobre la <em>copia</em> de Java para la m√°quina virtual Dalvik</a>. Es ese el motivo de <em>aguantar</em> mientras puedan con Dalvik, cambiar a ART (el runtime que se va a usar a partir de ahora) y en cuanto puedan (probablemente la I/O de 2015) presentar el desarrollo de Android con <a href="http://en.wikipedia.org/wiki/Go_(programming_language)">Go</a>. Que es un lenguaje creado por Google. Lo cual, por cierto, tampoco me disgustar√≠a.</p>
<p>El cambio de Dalvik por ART no se debe a que incorpore 64 bits. Ni a que sea m√°s √≥ptimo. Si Dalvik es ya abierto ¬øpor qu√© no incorporar esas novedades y mejoras en la m√°quina virtual que ya tienen todos los Android? Probablemente por huir de un barco que se hunde. Y adem√°s: ¬øpara qu√© darle a todos los que est√°n haciendo <em>clones</em> de Android (Nokia X, Amazon, Barnes &amp; Noble Nook, Aliyun) estas mejoras? Me juego algo a que al final ART s√≥lo lo podr√°n usar los miembros de la Open Handset Alliance. <em>¬øOpen?</em></p>
<h2>IDE</h2>
<p>Controlar el lenguaje es algo importante para crear un buen ecosistema de desarrollo. Microsoft cre√≥ C#, escribe su runtime, compilador y tiene el que probablemente sea el mejor IDE de todos: Visual Studio. Apple escribe su propio IDE, Xcode, que es una maravilla (como editor es mejorable y le faltan refactors, pero en Xcode se pueden hacer cosas que Eclipse no har√° en la vida y Android Studio dentro de 100 a√±os; ante las dudas ver un Storyboard, el dise√±ador de efectos de part√≠culas con SpriteKit, los PlayGrounds de Xcode 6 o los <a href="https://developer.apple.com/library/ios/documentation/ToolsLanguages/Conceptual/Xcode_Overview/DebugYourApp/DebugYourApp.html">Gauges</a>). Apple influye poderosamente en el compilador, llvm, hasta el punto de haber creado un nuevo lenguaje de programaci√≥n (Swift) para avanzar tras usar casi en exclusiva Objective-C los √∫ltimos 20 a√±os.</p>
<p>Google, por contra, empez√≥ creando un plugin de Eclipse para a√±adir algunos refactors, un asistente aqu√≠ y all√°, un visualizador del XML de los layouts y poco m√°s. Eclipse ni es de Google, ni Google puede influir en su desarrollo para hacerlo m√°s <em>Android</em>. Luego, esperaron a que la comunidad demostrase que IntelliJ Idea era una alternativa viable para el desarrollo Android y propusieron Android Studio con mucho bombo y platillo&#8230; en Mayo de 2013. Es casi Julio de 2014 y seguimos con una herramienta en versi√≥n Alpha, que no ha alcanzado a√∫n la versi√≥n 1.0.</p>
<h2>Excusas</h2>
<p>No, no me valen excusas sobre ¬´es que Google ya se sabe, pone las cosas en Beta y tal¬ª. Google no es una startup montada por cuatro chavales. Es la compa√±√≠a m√°s valiosa del planeta. Tienen pasta y tienen cerebros. <strong>Lo que no tienen es ning√∫n inter√©s en mejorar las herramientas de desarrollo</strong>.</p>
<p><strong>Google s√≥lo se preocupa de aquellos productos en los que puede vender su publicidad</strong>. Todo lo que no sirva para imprimir anuncios, sigue el camino de Google Reader y del Dodo. Y como no pueden imprimir anuncios mientras compilas, tenemos lo que tenemos.</p>
<h2>Modelos de negocio distintos</h2>
<p>Hay que entender el modelo de negocio de cada una de estas tres empresas para comprender c√≥mo act√∫an:</p>
<ul>
<li>Microsoft quiere venderte licencias. Por eso hacen el software que hacen, s√≥lo para Windows, porque quieren venderte las licencias de Visual Studio, Team Foundation Server y Windows. Lo tomas o lo dejas, pero son claros.</li>
<li>Apple quiere meterte en su ecosistema y venderte chismes, que es donde ganan pasta, no con software (que ahora lo dan gratis, desde el S.O. hasta Xcode pasando por la suite ofim√°tica). Ellos quieren que te compres un iPad, un iPhone, un MacBook Pro retina con AppleCare y que sigas y sigas comprando sus productos. Hacen buen software para apoyar la venta de sus productos hardware.</li>
<li>Google vende publicidad. Es con lo que gana dinero. No es nada innoble ni lo de que avengonzarse, pero todo esto de ir de salvapatrias de los open y darse aires de ir curando el c√°ncer cuando lo que hacen es espiarte para vender mejores anuncios me resulta muy gracioso. Google <strong>nunca</strong> ha sido pro software libre. </li>
</ul>
<h2>Open no es Libre</h2>
<p><em>Open</em> no significa nada y me molesta el uso torticero que Google hace de este t√©rmino. No dicen <em>libre</em> porque se le echar√≠a encima todo el mundo del Software √≠dem, dicen <em>open</em> como en <em>voy a tirarte las migajas de los repositorios de c√≥digo fuente de Android para que veas lo bueno que soy</em>.</p>
<p>Eso <em>no</em> es libre.</p>
<p>En un proyecto Software Libre se puede ver el c√≥digo <em>mientras</em> se desarrolla, y no despu√©s. Se puede aportar c√≥digo. Es una meritocracia.</p>
<p>Aqu√≠ tenemos un desarrollo totalmente propietario y cerrado creado por una compa√±√≠a que libera c√≥digo al terminar. Y, por cierto, s√≥lo parte de ese c√≥digo. Google Maps o Gmail no lo liberan. Ah√≠ lo <em>open</em> no entra, que eso es parte de mi maquinaria de vender anuncios&#8230; Llevo usando, aportando y tratando de comprender a la comunidad del Software Libre desde el 94. Me molesta que la gente se confunda y crea que Google nos defiende de las ¬´Megacorporaciones¬ª como Microsoft o Apple. Como si ellos fueran Teresa de Calcuta.</p>
<p>Las tres son iguales: compa√±√≠as que tratan de imponer sus productos en el mercado. Ninguna tiene como misi√≥n salvar al mundo. No le demos m√°s vueltas.</p>
<h2>Gradle</h2>
<p>As√≠ que para poner la guinda al pastel, tras usar un lenguaje que no es suyo y ofrecerte dos IDEs que tampoco hacen, han cambiado a Gradle, un sistema de construcci√≥n que tiene muy buena pinta, pero que de salida es <em>muuuucho</em> m√°s lento que Ant. Es decir: tu proyecto en Eclipse compila m√°s r√°pido que en Android Studio. Que s√≠, que se puede acelerar Gradle. Entonces ¬øpor qu√© no viene de salida ya configurado correctamente? ¬øPor qu√© machacar a los devs que ya tenemos bastante al migrar un proyecto de Eclipse a AS? Es en estas cosas donde veo la desidia de Google.</p>
<p>Y ese es el meollo de la cuesti√≥n. Que el equipo de desarrollo de AS en Google deben ser un programador y un becario. Y el becario a tiempo parcial. S√≥lo as√≠ se puede explicar el ritmo de no-avance de la herramienta. De nuevo, sin excusas: si Apple puede en un a√±o sacar una nueva versi√≥n de Xcode, digo yo que Google podr√°. Pero claro, si pierdes el foco creando gafas, relojes, coches, drones y mil cosas m√°s pero no vas a lo fundamental pasan estas cosas.</p>
<h2>Costes</h2>
<p>Y ahora es cuando alguien pensar√°: ¬´ya, pero es que en Apple hay que pagar 80 ‚Ç¨ anuales y en Microsoft el Visual Studio <em>de verdad</em> cuesta pasta, mientras que en Google pagas una vez en la vida 25 d√≥lares y ya¬ª.</p>
<p>Efectivamente: ¬øves una tendencia?. Pagas por un producto == calidad. No pagas y no pueden ponerte publicidad == Google Reader, digo herramientas de desarrollo.</p>
<h2>T√∫ es que eres un Fanboy de Apple</h2>
<p>Vaaaale, venga, s√≠, soy un Fanboy de Apple. Los tiempos de compilaci√≥n de Gradle me los invento. Y tener un IDE m√°s de un a√±o en Alpha es de lo m√°s normal. O que para lanzar el emulador tengamos que andar con trucos como la aceleraci√≥n Intel o usar Genymotion (de nuevo, nada de esto de Google). De paso, que nada de lo que usa Google Play Services (que cada vez son m√°s cosas) no funcione en el emulador y tengamos que tirar de dispositivo tambi√©n es un <em>triunfo</em>.</p>
<p>Quiz√° tu problema es que no has tratado de desarrollar con otro entorno que no sea Android Studio. En mi caso, s√≠. Uso Xcode, Eclipse y Android Studio a diario. Y antes us√© Visual Studio, Aptana, Delphi, Turbo C y vim. ¬°Hasta Blackberry ha hecho un mejor trabajo con Eclipse para BB10 que Google!</p>
<p>Creo que hablo con cierto conocimiento de causa. Pero si tienes argumentos en contra de algo que lo que digo (que no sean <em>es que a mi me gusta m√°s X en lugar de Y</em>) sino cosas como ¬´resulta que el roadmap de Gradle muestra que Z y Android Studio se puede mejorar de tal y cual forma¬ª bienvenidos sean. Si quieres ponerme a parir, no comentes: escribe un post en tu propio blog. Gracias.</p>
<p>Y, por cierto ¬øen qu√© parte de I/O se est√° hablando de las mejoras del lenguaje, IDE o compilador, m√°s all√° de ART?</p>
<p>Pues eso.</p>
<h2>Actualizaci√≥n del 1 de Julio, 2014</h2>
<p>Escrib√≠ esta entrada en el avi√≥n, mientras me dirig√≠a al <a href="/2014/06/24/imparto-dos-talleres-en-el-gctic-ios-y-android/">GCTIC a impartir unos talleres</a>, uno de ellos de Android. El d√≠a antes tuve la precauci√≥n de copiarme el ADT Bundle que proporciona Google para todas las plataformas, por si alguien no lo ten√≠a instalado. Tuve que usarlo: algunos de los asistentes no lo ten√≠an instalado, y se lo proporcion√©. Total, es descomprimir un ZIP en el que va Eclipse y el SDK. Es tan sencillo, que incluso escrib√≠ en este blog <a href="/2012/05/23/como-crear-un-entorno-de-desarrollo-android-portable/">c√≥mo crearte tu propio entorno de desarrollo Android portable con Eclipse</a>.</p>
<p>Pues no. No era tan sencillo. Nada funcionaba. Lo instal√© en mi m√°quina con cierta sonrisa de desd√©n pensando ¬´novatillos&#8230;¬ª. Y no. No funcionaba. Ning√∫n ADT Bundle funcionaba. Ni en Mac, ni en Windows, ni en Linux. Pens√© que estar√≠an mal descargados y empezamos a bajarlos de nuevo. Hasta que nos dimos cuenta de que la culpa era de Google:</p>
<p><strong>En la p√°gina oficial de descargas del ADT Bundle han colgado versiones que no funcionan</strong></p>
<p>Y no avisan. A d√≠a de hoy puedes seguir baj√°ndote una versi√≥n <em>rota</em> de ADT Bundle de la p√°gina de Google. Y sabi√©ndolo, no la quitan de en medio ni ponen un aviso. No. Juegan con tu tiempo. ¬øTienes una entrega de una App? Me da igual. ¬øVas a impartir un taller? No me importa. Soy Google, la prepotencia con patas, y me importa [inserta aqu√≠ un adjetivo colorido] mi comunidad de desarrolladores. Ellos son muy listos, que se busquen la vida. Total, la culpa es suya <em>por fiarse de mi p√°gina oficial de descargas</em>.</p>
<p>Eso s√≠, en su <a href="https://code.google.com/p/android/issues/detail?id=72419">bug tracker</a> s√≠ que parece que lo saben. Y dicen que lo arreglar√°n en uno o dos d√≠as. Despu√©s de una semana.</p>
<p>Estoy harto.</p>
]]></content:encoded>
			<wfw:commentRss>/2014/06/26/el-lamentable-estado-de-las-herramientas-de-desarrollo-android/feed/</wfw:commentRss>
		<slash:comments>45</slash:comments>
		</item>
		<item>
		<title>Borrar un AVD que se niega a morir</title>
		<link>/2013/08/26/borrar-un-avd-que-se-niega-a-morir/</link>
		<pubDate>Mon, 26 Aug 2013 06:31:16 +0000</pubDate>
		<dc:creator><![CDATA[dfreniche]]></dc:creator>
				<category><![CDATA[Inform√°tica]]></category>
		<category><![CDATA[Programaci√≥n]]></category>
		<category><![CDATA[Android]]></category>
		<category><![CDATA[Eclipse]]></category>
		<category><![CDATA[Mac]]></category>
		<category><![CDATA[Terminal]]></category>
		<category><![CDATA[Trucos]]></category>

		<guid isPermaLink="false">/?p=1999</guid>
		<description><![CDATA[Al intentar borrar un AVD (la configuraci√≥n de un emulador de Android, conocido como Android Virtual Device) me he encontrado con este mensaje: En este caso, he tenido claro desde el principio cual era el problema sin consultar con StackOverflow. Hab√≠a lanzado ese AVD antes y se hab√≠a colgado. Y pens√© que seguramente hab√≠a dejado [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Al intentar borrar un AVD (la configuraci√≥n de un emulador de Android, conocido como Android Virtual Device) me he encontrado con este mensaje:</p>
<p><a href="/wp-content/uploads/2013/08/emulator-cant-delete.png"><img src="/wp-content/uploads/2013/08/emulator-cant-delete.png" alt="AVD no se puede borrar" width="526" height="145" class="aligncenter size-full wp-image-2000" srcset="/wp-content/uploads/2013/08/emulator-cant-delete.png 526w, /wp-content/uploads/2013/08/emulator-cant-delete-300x82.png 300w" sizes="(max-width: 526px) 100vw, 526px" /></a></p>
<p>En este caso, he tenido claro desde el principio cual era el problema <em>sin consultar con StackOverflow</em>. Hab√≠a lanzado ese AVD antes y se hab√≠a colgado. Y pens√© que seguramente hab√≠a dejado alg√∫n fichero indicando que el emulador estaba en marcha, y por eso ahora al intentar borrarlo pensaba que segu√≠a <em>encendido</em>.</p>
<p>Nada que un poco de Terminal no pueda arreglar. Debemos ir, en una terminal, a la carpeta .android/avd que est√° dentro de nuestra carpeta $HOME. En mi caso, como mi usuario es dfreniche, la carpeta est√° en la ruta:</p>
<pre><code>/Users/dfreniche/.android/avd/
</code></pre>
<p>Para llegar a ella, usamos a nuestro viejo amigo <code>cd</code>:</p>
<pre><code>cd /Users/dfreniche/.android/avd
</code></pre>
<p>Una vez all√≠, veremos una carpeta por cada AVD que tengamos creado en Eclipse. Si hacemos <code>ls</code>:</p>
<pre><code>Tesla:avd dfreniche$ ls -al
total 24
drwxr-xr-x   8 dfreniche  staff  272 22 ago 12:58 .
drwxr-xr-x  17 dfreniche  staff  578 19 ago 19:41 ..
drwxr-xr-x  12 dfreniche  staff  408 22 ago 12:58 Intel.avd
-rw-r--r--   1 dfreniche  staff  114 22 ago 12:58 Intel.ini
drwxr-xr-x  11 dfreniche  staff  374 20 ago 06:48 Nexus4.avd
-rw-r--r--   1 dfreniche  staff  116 19 ago 19:32 Nexus4.ini
drwxr-xr-x  10 dfreniche  staff  340 22 ago 11:22 Nexus4_API4.3.avd
-rw-r--r--   1 dfreniche  staff  130 20 ago 06:47 Nexus4_API4.3.ini
</code></pre>
<p>Podemos ver que los terminados en .avd son carpetas (en los atributos empiezan con una <em>d</em> de directory) mientras que los .ini son ficheros normales.</p>
<p>Si entramos en el AVD problem√°tico (en este caso, Intel.avd) con un <code>cd Intel.avd</code> y hacemos <code>ls</code> veremos unos cuantos ficheros <em>sospechosos</em> acabados en .lock.</p>
<pre><code>Tesla:Intel.avd dfreniche$ ls
cache.img       hardware-qemu.ini.lock  userdata-qemu.img.lock
cache.img.lock  sdcard.img      userdata.img
config.ini      sdcard.img.lock
hardware-qemu.ini   userdata-qemu.img
</code></pre>
<p>Con borrar estos ficheros, basta: <code>rm *.lock</code></p>
<p>Tras esto, Eclipse nos dejar√° borrar tranquilamente el AVD desde su interfaz:</p>
<div id="attachment_2001" style="width: 534px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2013/08/emulator-fixed.png"><img src="/wp-content/uploads/2013/08/emulator-fixed.png" alt="AVD arreglado para ser borrado" width="524" height="141" class="size-full wp-image-2001" srcset="/wp-content/uploads/2013/08/emulator-fixed.png 524w, /wp-content/uploads/2013/08/emulator-fixed-300x80.png 300w" sizes="(max-width: 524px) 100vw, 524px" /></a><p class="wp-caption-text">AVD arreglado para ser borrado</p></div>
]]></content:encoded>
			</item>
		<item>
		<title>Acelera el emulador de Android</title>
		<link>/2013/01/23/acelera-el-emulador-de-android/</link>
		<comments>/2013/01/23/acelera-el-emulador-de-android/#comments</comments>
		<pubDate>Wed, 23 Jan 2013 16:32:11 +0000</pubDate>
		<dc:creator><![CDATA[dfreniche]]></dc:creator>
				<category><![CDATA[Inform√°tica]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Programaci√≥n]]></category>
		<category><![CDATA[Android]]></category>
		<category><![CDATA[Eclipse]]></category>

		<guid isPermaLink="false">/?p=1856</guid>
		<description><![CDATA[¬´El Emulador de Android es lento¬ª. Mucho. Es una de las quejas recurrentes que tenemos los que tenemos que desarrollar para Android, bien sea por afici√≥n, devoci√≥n u obligaci√≥n. Comparado con el simulador de iOS, el Emulador de Android es una tortuga. Pero claro, la comparaci√≥n no es justa: Android emula un tel√©fono completo, con [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>¬´El Emulador de Android es lento¬ª. Mucho. Es una de las quejas recurrentes que tenemos los que tenemos que desarrollar para Android, bien sea por afici√≥n, devoci√≥n u obligaci√≥n. Comparado con el simulador de iOS, el Emulador de Android es una tortuga. Pero claro, la comparaci√≥n no es justa: Android emula un tel√©fono completo, con su CPU, GPU, memoria, tarjeta SD, etc. Est√° ejecutando c√≥digo real que podr√≠amos instalar en un tel√©fono, compilado para una CPU de una arquitectura que no tenemos en el escritorio (como es ARM p.ej.). El simulador de iOS crea un ejecutable x86 que ¬´simula¬ª comportarse dentro de un tel√©fono, pero realmente es un programa de Mac ¬´travesti¬ª. La fidelidad no es la misma.</p>
<p>Por eso, en teor√≠a el desarrollo con el Emulador de Android debe ser m√°s sencillo, al tener una mejor herramienta con la que probar. Eso, si eres capaz de aguantar el tiempo insoportable que tarda en arrancar. Y si no se desconecta de adb (Android Debugger Bridge) y tienes que reiniciarlo.</p>
<h1>HAXM</h1>
<p>Para mejorar esto, Intel pone a nuestra disposici√≥n HAXM (Hardware Accelerated Execution Manager). Gracias a este programa, instalaremos una capa de aceleraci√≥n para el Emulador de Android, que realmente se ejecuta en como una m√°quina virtual <a href="http://wiki.qemu.org/Main_Page">qEmu</a>. qEmu es un emulador de CPUs, es decir, nos permite ejecutar en nuestros equipos basados en Intel x86 (como un Core i5 por ejemplo) S.O. que corren en Intel (como Windows, Linux, Mac) o bien otros S.O. que necesitan otras CPUs y arquitecturas (como es el caso de Android con ARM).</p>
<p>HAXM es un driver (o un m√≥dulo del kernel en Linux / extensi√≥n del kernel en Mac) que concede a qEmu acceso directo al hardware en el que se ejecuta. Eso s√≠, como es un programa de Intel, s√≥lo funciona con las CPUs Intel. Vamos, que si tu m√°quina tiene una CPU AMD ya puedes ir cerrando el post. Adem√°s, la CPU debe soportar VT-x (las modernas lo soportan, no pruebes con un Pentium II). Puedes consultar los requisitos en la <a href="http://software.intel.com/en-us/articles/installation-instructions-for-intel-hardware-accelerated-execution-manager-mac-os-x">p√°gina detallada de Intel sobre c√≥mo instalar HAXM</a>.</p>
<h1>Instalaci√≥n de HAXM</h1>
<p>Si est√°s usando el nuevo ADT Bundle (es decir, el Eclipse + plugin ADT + SDK Android que ha sacado hace poco Google, que ya era hora por cierto) y abres el Android SDK Manager, al final encontrar√°s un grupo llamado ¬´Extras¬ª en el que est√° el Intel x86 HAXM Emulator Accelerator. Si est√°s en Windows / Linux, b√°jatelo desde aqu√≠. Si est√°s en OS X Mountain Lion 10.8.2 <strong>no te lo bajes desde aqu√≠, debes ir a la <a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager">p√°gina de descargas de HAXM</a></strong>, ya que existe un bug que har√° que tu querido Mac se cuelgue. S√≠, has le√≠do bien: los Macs tambi√©n se cuelgan. Cuando te lo bajes, ya sea desde el SDK Manager o a mano (por cierto, en el enlace anterior est√°n las versiones de Linux y Windows de HAXM) debes instalarlo.</p>
<p>En el caso del Mac, bajas un DMG que al montar te muestra un programa de instalaci√≥n. Tras instalarlo (no exige reiniciar) podemos confirmar que est√° en funcionamiento escribiendo en una Terminal:</p>
<pre><code>$ kextstat | grep haxm
</code></pre>
<p>Debe aparecer algo como esto:</p>
<pre><code>Tesla:~ dfreniche$ kextstat | grep haxm
115  0 0xffffff7f81e29000 0x13000 0x13000  com.intel.kext.intelhaxm (1.0.4)
</code></pre>
<p>Si te has bajado el paquete usando el SDK manager, puedes encontrar el programa de instalaci√≥n en <code>$SDK_HOME/extras/intel/</code></p>
<h1>Uso de HAXM</h1>
<p>Una vez instalado HAXM, debemos descargar las im√°genes de Android que tambi√©n nos proporciona Intel. La idea es que en lugar de acelerar un emulador ARM (que ser√≠a muy complicado) Intel nos da Android para Intel Atom. De esta manera, cuando qEmu ejecuta instrucciones en el Intel Atom emulado realmente se pasan a nuestra CPU directamente, con la consiguiente mejora en rendimiento.</p>
<p>Estas im√°genes aparecen como ¬´Intel x86 Atom System Image¬ª en el SDK Manager. A bajarlas. No las tenemos para todos los API levels, pero s√≠ para los m√°s usados (API 10, 15 y 17 y supongo que en breve sacar√°n para el 18).</p>
<p><a href="/wp-content/uploads/2013/01/intel-images.png"><img src="/wp-content/uploads/2013/01/intel-images-300x251.png" alt="SDK Manager mostrando las im√°genes Intel ya instaladas" title="Im√°genes Intel en el Android SDK Manager" width="300" height="251" class="aligncenter size-medium wp-image-1860" srcset="/wp-content/uploads/2013/01/intel-images-300x251.png 300w, /wp-content/uploads/2013/01/intel-images.png 933w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Ahora tendremos que crear una definici√≥n de AVD que utilice esta imagen de Intel. En lugar de un emulador con CPU ARM, vamos a escoger uno con CPU Intel Atom. De cara a nuestros programas da igual, ya que a fin de cuentas se van a ejecutar en la m√°quina virtual Dalvik. Si vamos a probar c√≥digo Android nativo (escrito en C con el NDK) entonces lo mejor es leer la documentaci√≥n de HAXM.</p>
<p><a href="/wp-content/uploads/2013/01/ADV-intel.png"><img src="/wp-content/uploads/2013/01/ADV-intel.png" alt="Creando un AVD con CPU Intel seleccionada" title="ADV con CPU intel" width="542" height="575" class="aligncenter size-full wp-image-1862" srcset="/wp-content/uploads/2013/01/ADV-intel.png 542w, /wp-content/uploads/2013/01/ADV-intel-282x300.png 282w" sizes="(max-width: 542px) 100vw, 542px" /></a></p>
<p>Cuando arranquemos nuestro AVD notaremos dos cosas. En la consola debe aparecer un mensaje que indique que ¬´HAX is working¬ª y casi sin darnos cuenta nuestro Emulador estar√° operativo. Se acab√≥ el arrastrarse. Yo ni marco que arranque de un snapshot porque es tan r√°pido que no me merece la pena.</p>
<h1>Bonus level</h1>
<p>Si usas API level 15 √≥ 17 puedes usar la aceleraci√≥n de hardware de la GPU, lo que har√° que todav√≠a sea m√°s r√°pido. Avisado quedas de que puede no funcionar (el emulador se ver√≠a en negro y tendr√≠as que cerrarlo). <a href="http://developer.android.com/tools/devices/emulator.html#acceleration">Consulta el apartado de aceleraci√≥n de la GPU</a> de la documentaci√≥n Emulador para m√°s detalles. Para activarla, marca el checkbox ¬´Use host GPU¬ª en la definici√≥n del AVD.</p>
<h1>Ultra bonus level</h1>
<p>Y si necesitas un emulador de Android ¬´en la nube¬ª, para probar algo o mostrar en una visita a un cliente, y no tienes tu m√°quina pero te puedes bajar el APK de Dropbox, mira <a href="https://app.manymo.com/emulators">Manymo</a>. Si con esto no te pones <em>palote</em>&#8230;</p>
]]></content:encoded>
			<wfw:commentRss>/2013/01/23/acelera-el-emulador-de-android/feed/</wfw:commentRss>
		<slash:comments>19</slash:comments>
		</item>
		<item>
		<title>Instalar el plugin de Mercurial en Eclipse</title>
		<link>/2011/06/18/instalar-el-plugin-de-mercurial-en-eclipse/</link>
		<comments>/2011/06/18/instalar-el-plugin-de-mercurial-en-eclipse/#comments</comments>
		<pubDate>Sat, 18 Jun 2011 17:31:02 +0000</pubDate>
		<dc:creator><![CDATA[dfreniche]]></dc:creator>
				<category><![CDATA[Inform√°tica]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Programaci√≥n]]></category>
		<category><![CDATA[DCVS]]></category>
		<category><![CDATA[Eclipse]]></category>
		<category><![CDATA[Formaci√≥n]]></category>
		<category><![CDATA[Mercurial]]></category>

		<guid isPermaLink="false">/?p=1512</guid>
		<description><![CDATA[Los sistemas de control de versiones son adictivos. No puedes probarlos, porque luego no puedes vivir sin ellos. Aunque sea un peque√±o ejemplo el que vas a programar, te sientes perdido sin tu repositorio y empiezas a pensar ¬´¬øy si se me ocurre cambiar esto o lo otro, y luego me arrepiento?¬ª. Ese tipo de [&#8230;]]]></description>
				<content:encoded><![CDATA[<p style="text-align: justify;">Los sistemas de control de versiones son adictivos. No puedes probarlos, porque luego no puedes vivir sin ellos. Aunque sea un peque√±o ejemplo el que vas a programar, te sientes <em>perdido</em> sin tu repositorio y empiezas a pensar ¬´¬øy si se me ocurre cambiar esto o lo otro, y luego me arrepiento?¬ª. Ese tipo de ¬´problemas¬ª se solucionan casi en el acto con un VCS. Y si es distribuido (Git o Mercurial), mejor que mejor.</p>
<p style="text-align: justify;">Antes de seguir, quiero dejar claro que no entro en las guerras religiosas entre los DCVS Git o Mercurial. Yo uso <a href="http://mercurial.selenic.com/">Mercurial</a> porque <a href="http://hginit.com/">Joel Spolsky</a> lo explica de forma incre√≠blemente sencilla. Aunque ahora que Git viene integrado con XCode4, probablemente es una buena alternativa&#8230; bueno, no :-). En fin, usa el que te de la gana, pero usa uno.</p>
<p style="text-align: justify;">Para <em>casi</em> todos mis proyectos uso Mercurial. No lo uso para los ejemplos que escribo para mis cursos. Y estaba pensando ¬´¬øporqu√© no usarlo?¬ª. Por pereza mental, y por hacer siempre las cosas de la misma forma. Mi padre dice que ¬´si un burro tira de una noria para un lado y le das la vuelta, ya no sabe tirar de ella¬ª. Y es que nos acostumbramos a hacer siempre lo mismo, de la misma forma, y nos estancamos. De vez en cuando hay que revisarlo todo con una mirada fresca y en lugar de pensar ¬´¬øhay una manera de optimizar esto que estoy haciendo?¬ª debemos plantearnos ¬´¬øen <em>serio</em> tengo que seguir haciendo esto?¬ª.</p>
<p style="text-align: justify;">El caso es que un sistema de control de versiones es casi perfecto para dar clases. Puedes tener una primera versi√≥n, sencilla, y luego ir promoviendo a las distintas versiones m√°s avanzadas, que pueden ser changesets o bien nuevas ramas. Los cambios que hagas durante la clase para demostrar algo siempre puedes revertirlos sin problemas. Para eso est√° el DCVS. Y distribuir el c√≥digo es m√°s sencillo: compartes tu repo, y los alumnos se clonan los repositorios y punto. No hay que andar con historias de copiar los Workspaces de Eclipse y que luego falle (los WS de Eclipse dependen del sistema en el que los uses, hay que cambiar luego los Build Paths, etc.). Como se puede ver, todo son ventajas. La pregunta es porqu√© no lo he usado hasta ahora&#8230;</p>
<h1>Instalar Mercurial</h1>
<p style="text-align: justify;">Evidentemente, antes de nada lo primero es instalar Mercurial, ya sea para Linux, Windows o Mac, o para donde vayas a usar el DCVS. Si no, el plugin de Eclipse no podr√° usar Mercurial porque no lo encontrar√° en tu sistema. Te lo bajas de su <a href="http://mercurial.selenic.com/">sitio web oficial</a>.</p>
<h1>Instalando hgEclipse</h1>
<p style="text-align: justify;"><a href="http://www.javaforge.com/project/HGE">HgEclipse</a> es un plugin para Eclipse que a√±ade soporte Mercurial a tus proyectos. Una vez instalado, en el men√∫ contextual del proyecto encontrar√°s en la opci√≥n Team &gt; Share la parte de Mercurial. Para instalarlo, iremos a Help &gt; Install New Software e introduciremos el repositorio¬†http://cbes.javaforge.com/update. En mi caso (instal√°ndolo en Mac) no necesito los binarios de Mercurial para Windows, as√≠ que no los marco para instalar.</p>
<p style="text-align: justify;">
<div id="attachment_1517" style="width: 825px" class="wp-caption aligncenter"><img class="size-full wp-image-1517" title="Instalando hgEclipse: repositorios" src="/wp-content/uploads/2011/06/install-hgeclipse.png" alt="Instalando hgEclipse: repositorios" width="815" height="715" srcset="/wp-content/uploads/2011/06/install-hgeclipse.png 815w, /wp-content/uploads/2011/06/install-hgeclipse-300x263.png 300w" sizes="(max-width: 815px) 100vw, 815px" /><p class="wp-caption-text">Instalando hgEclipse: repositorios</p></div>
<p style="text-align: justify;">Cuando pulsemos Next, pasaremos a descargar e instalar el plugin. Al final no hay m√°s remedio que reiniciar Eclipse. As√≠ que hazlo <img src="https://s.w.org/images/core/emoji/2.3/72x72/1f642.png" alt="üôÇ" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<div id="attachment_1518" style="width: 566px" class="wp-caption aligncenter"><img class="size-full wp-image-1518" title="hgEclipse instal√°ndose" src="/wp-content/uploads/2011/06/installing-hgeclipse.png" alt="hgEclipse instal√°ndose" width="556" height="378" srcset="/wp-content/uploads/2011/06/installing-hgeclipse.png 556w, /wp-content/uploads/2011/06/installing-hgeclipse-300x203.png 300w" sizes="(max-width: 556px) 100vw, 556px" /><p class="wp-caption-text">hgEclipse instal√°ndose</p></div>
<h1>Usando HgEclipse</h1>
<p style="text-align: justify;">Una vez con todo instalado, lo primero es crear el repositorio Mercurial en nuestro proyecto. Eso lo prepara todo para poder gestionar las versiones de tu codigo fuente. Equivale a un ¬´hg init¬ª. Para ello, pulsaremos con el bot√≥n derecho del rat√≥n en el nombre de nuestro proyecto y seleccionaremos Team &gt; Share Project. Si todo est√° correctamente instalado nos aparecer√° una ventana como la siguiente:</p>
<div id="attachment_1525" style="width: 615px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2011/06/ShareProject.png"><img class="size-full wp-image-1525" title="Share &gt; Project" src="/wp-content/uploads/2011/06/ShareProject.png" alt="Share &gt; Project" width="605" height="491" srcset="/wp-content/uploads/2011/06/ShareProject.png 605w, /wp-content/uploads/2011/06/ShareProject-300x243.png 300w" sizes="(max-width: 605px) 100vw, 605px" /></a><p class="wp-caption-text">Share &gt; Project</p></div>
<p style="text-align: justify;">Como queremos crear un repo Mercurial, basta con pulsar siguiente. Nos mostrar√° d√≥nde va a crear el repositorio (que es una carpeta llamada .hg, dentro de nuestra carpeta de proyecto). Aparecer√°n unos nuevos iconos en las carpetas y ficheros de nuestro proyecto y la palabra [new] indicando que el repo es nuevo, pero a√∫n no se ha realizado el primer commit.</p>
<div id="attachment_1526" style="width: 245px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2011/06/RepoCreado.png"><img class="size-full wp-image-1526" title="Repositorio tras el init" src="/wp-content/uploads/2011/06/RepoCreado.png" alt="Repositorio tras el init" width="235" height="86" /></a><p class="wp-caption-text">Repositorio tras el init</p></div>
<p style="text-align: justify;">¬°Vamos a a√±adir ficheros a nuestro repositorio! Bot√≥n derecho en el proyecto &gt; Share Project, pero ahora aparece un men√∫ con un mont√≥n de opciones. Seleccionamos Add. Esto a√±ade los ficheros del proyecto al repositorio. Yo suelo a√±adir √∫nicamente el c√≥digo fuente, pero no los ajustes del proyecto, ni las carpetas propias de Eclipse, como muestro a continuaci√≥n:</p>
<div id="attachment_1528" style="width: 489px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2011/06/Add.png"><img class="size-full wp-image-1528" title="A√±adamos ficheros al repo!" src="/wp-content/uploads/2011/06/Add.png" alt="A√±adamos ficheros al repo!" width="479" height="519" srcset="/wp-content/uploads/2011/06/Add.png 479w, /wp-content/uploads/2011/06/Add-276x300.png 276w" sizes="(max-width: 479px) 100vw, 479px" /></a><p class="wp-caption-text">A√±adamos ficheros al repo!</p></div>
<p style="text-align: justify;">Ahora que hemos a√±adido, los iconos de los ficheros fuente cambian y tienen un ¬´+¬ª azul al lado. Est√°n ya controlados por el repositorio, pero no hemos subido este cambio, que en este caso es subir la primera versi√≥n. Para ello, Team &gt; Share Project &gt; Commit y a√±adimos un mensaje de commit. HgEclipse nos muestra los ficheros que va a subir, y los que no tiene ¬´controlados¬ª, por si queremos a√±adirlos.</p>
<div id="attachment_1529" style="width: 640px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2011/06/Commit.png"><img class="size-full wp-image-1529" title="Commit" src="/wp-content/uploads/2011/06/Commit.png" alt="Commit" width="630" height="686" srcset="/wp-content/uploads/2011/06/Commit.png 630w, /wp-content/uploads/2011/06/Commit-275x300.png 275w" sizes="(max-width: 630px) 100vw, 630px" /></a><p class="wp-caption-text">Commit</p></div>
<p style="text-align: justify;">Al pulsar OK, ¬°listo!. Ya tenemos control de versiones funcionando. Ahora, si modificamos un fichero se nos mostrar√° como cambiado y podremos hacer un commit con esos cambios. O podremos compartir el c√≥digo fuente del proyecto por la red con la opci√≥n Serve. Cualquiera en la red podr√° hacer un Pull del repo y bajarse este c√≥digo fuente. Mucho m√°s r√°pido que compartir el proyecto en una carpeta SMB y encima evitas problemas con las configuraciones de Eclipse (yo lo uso en Mac y mis alumnos, normalmente, en Windows)</p>
<p style="text-align: justify;">Las opciones del men√∫ de Share Project son muy amplias. Os animo a irlas probando y a aprender Mercurial entre todos. El que tenga un truco especial de c√≥mo usa Mercurial, ya sabe, que use los comentarios.</p>
<pre>hg commit -m "post acabado"</pre>
<pre>hg tag -m "v1.0"</pre>
]]></content:encoded>
			<wfw:commentRss>/2011/06/18/instalar-el-plugin-de-mercurial-en-eclipse/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
	</channel>
</rss>
